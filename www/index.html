<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sandbagger Scoring</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="manifest" href="manifest.json">
  <!-- Capacitor import for native app features -->
  <script type="module" src="https://unpkg.com/@capacitor/core@latest/dist/capacitor.js"></script>
  <meta name="theme-color" content="#006837">
  <!-- Tell iOS to run in standalone mode -->
  <meta name="mobile-web-app-capable" content="yes">

  <!-- Status bar style: default, black, or black-translucent -->
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- Home-screen icon (180Ã—180 PNG is a good size) -->
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
    <link rel="icon" 
        href="favicon.png" 
        type="image/png">
</head>
<body>
<button id="btnInstall" style="display:none;">Install Sandbagger App</button>
    
<div id="auth-container" class="container">
        <form id="auth-form">
            <h2 class="form-title">Sandbagger Scoring</h2>
            <img class="form-logo" src="/images/purplegolficon.png" alt="Sandbagger Logo">

            <select id="selectMode" name="mode" required>
              <option value="">-- Choose Mode --</option>
              <option value="tournament">Tournament Mode</option>
              <option value="quick">Quick Round</option>
            </select>

            <!-- Quick Round Options -->
            <div id="quick-round-options" style="display: none;">
              <select id="selectQuickRoundOption" name="quick_round_option">
                <option value="">-- Choose Option --</option>
                <option value="create">Create New Round</option>
                <option value="join">Join Existing Round</option>
              </select>
            </div>

            <!-- Join Code Input -->
            <div id="join-code-section" style="display: none;">
              <input type="number" id="join-code-input" placeholder="Enter 4-digit code" min="1000" max="9999" style="width: 100%; padding: 0.5rem; font-size: 1rem; border-radius: 4px; border: 1px solid #ccc; box-sizing: border-box;">
            </div>

            <!-- Quick Round Type Selector -->
            <select id="selectRoundType" name="round_type" style="display: none;">
              <option value="">-- Choose Round Type --</option>
              <option value="best-ball">Best Ball</option>
              <option value="rabbit">Rabbit</option>
              <option value="wolf">Wolf</option>
            </select>

            <!--<h2>Sandbagger Scoring</h2>

            <select id="selectTournament" name="tournament_id" required>
              <option value="">-- Choose Tournament --</option>
            </select>-->
            <select id="chooseUser" name="golfer_id" style="display: none;">
                 <option value="Generic">-- Choose Golfer --</option>
            </select>
            <select id="selectRound" name="round_id" style="display: none;">
              <option value="">-- Choose Round --</option>
            </select>

            <!--<input type="password" id="pin" name="pin" required autocomplete="new-pin" placeholder="Enter PIN">-->
            <button type="submit">Tee it Up!</button>
            <button id="round-history-btn" type="button" style="display: none; margin-top: 0.5rem;">Round History</button>
        </form>
        <div id="auth-message"></div> <!-- To display any messages (success/error) -->
</div>

<div class="container" id="best-ball-setup" style="display: none;">
  <div id="best-ball-setup-content"></div>
</div>

<div class="container" id="round-history-container" style="display: none;">
  <h2 style="text-align: center; margin-bottom: 1rem;">Round History</h2>
  <button id="back-from-history-btn" class="history-back-btn" style="margin-bottom: 1rem;">Back</button>
  <div id="round-history-content"></div>
</div>

<div class="container" id="app-content" style="display: none;">

  <header>
      <div id="tournament-bar" class="tournament-bar">
          <span id="tournament-name"></span>
      </div>
      <div id="user-bar" class="user-bar" style="display: none;">
        <span id="user-name" class="auto-contrast"></span>
        <button id="logout-button" class="btn-logout">Change Round</button>
      </div>

  </header>
  <nav>
    <div class="tabs">
      <button data-page="my-match">My Match</button>
      <button data-page="today">Round</button>
      <button data-page="tournament">Tournament</button>
    </div>

  </nav>


  <main id="content">
    <div id="score-entry-content" style="padding-bottom: 2rem;"></div>
  </main>
</div>  
  <script src="script.js"></script>
</body>
</html>
